(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{199:function(t,s,a){"use strict";a.r(s);var e=a(0),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"lock-ip-host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lock-ip-host","aria-hidden":"true"}},[t._v("#")]),t._v(" lock-ip-host")]),t._v(" "),a("p",[t._v("一个可以检测端口是否被占用，获取本机"),a("code",[t._v("ip")]),t._v("地址的"),a("code",[t._v("node")]),t._v("插件")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://webxiaoma.github.io/project-cli/docs/blogs/node/lock-ip-host",target:"_blank",rel:"noopener noreferrer"}},[t._v("中文文档"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/webxiaoma/project-cli/blob/master/packages/node/lock-ip-host",target:"_blank",rel:"noopener noreferrer"}},[t._v("仓库地址"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"当前版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#当前版本","aria-hidden":"true"}},[t._v("#")]),t._v(" 当前版本")]),t._v(" "),a("p",[a("code",[t._v("v1.0.1")])]),t._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("npm i @web"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pro"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lock"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ip"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("host "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v("\n\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("yarn add @web"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pro"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lock"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ip"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("host "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("h3",{attrs:{id:"lockport方法，检测端口是否被占用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lockport方法，检测端口是否被占用","aria-hidden":"true"}},[t._v("#")]),t._v(" lockPort方法，检测端口是否被占用")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lockIPHost "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@web-pro/lock-ip-host"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlockIPHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lockPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// res 为返回对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[a("code",[t._v("res")]),t._v("为对象"),a("code",[t._v("Object")]),t._v(",该对象下的参数有：")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ip")]),t._v(": 本机的IPv4地址")]),t._v(" "),a("li",[a("code",[t._v("canUsePort")]),t._v(": 当传入的端口被占用时，可以返回一个可用的端口号，（未有传入端口号时，默认从8080端口检索）")])]),t._v(" "),a("h3",{attrs:{id:"getownip方法，检测本机ip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getownip方法，检测本机ip","aria-hidden":"true"}},[t._v("#")]),t._v(" getOwnIP方法，检测本机ip")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lockIPHost "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@web-pro/lock-ip-host"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ip "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lockIPHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOwnIP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IPv4 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IPv4 地址")]),t._v("\nip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IPv6 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IPv6 地址，如果存在")]),t._v("\n")])])]),a("p",[a("code",[t._v("getOwnIP()")]),t._v("方法返回本机的"),a("code",[t._v("ip")]),t._v("，为一个对象，包括"),a("code",[t._v("IPv4")]),t._v("和"),a("code",[t._v("IPv6")]),t._v("（如果存在）")])])},[],!1,null,null,null);s.default=r.exports}}]);